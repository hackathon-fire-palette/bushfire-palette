<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Australian Bushfire Alert System</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo-title">
      <a href="/">
        <img src="assets/logo.jpg" alt="Logo" width="60" height="60">
      </a>
      <h1>Australian Bushfire Alert System</h1>
    </div>
    <nav>
  <a href="index.html" class="active">Dashboard</a>
  <a href="about.html">About</a>
  <a href="roster.html">Roster</a>
  <a href="vehicle.html">Vehicle Tracking</a>
    </nav>
  </header>
  <main>
    <div class="dashboard-flex">
      <section class="alerts-list-section">
        <h2>Active Alerts</h2>
        <div id="alertsList" class="alerts-list"></div>
      </section>
      <div class="map-medical-stack">
        <section class="map-section">
          <h2>Current Bushfire Alerts</h2>
          <div id="map" class="map-embed"></div>
        </section>
        <section class="medical-emergency-section card">
          <h2>Medical Emergency Integrations</h2>
          <div id="med-integration-tabs" class="med-tabs">
            <button onclick="showMedIntegration(0)">Dispatch Coordination</button>
            <button onclick="showMedIntegration(1)">Health Risk Mapping</button>
            <button onclick="showMedIntegration(2)">Responder Profiles</button>
            <button onclick="showMedIntegration(3)">Health Services</button>
            <button onclick="showMedIntegration(4)">Equipment Tracking</button>
            <button onclick="showMedIntegration(5)">Predictive Alerts</button>
            <button onclick="showMedIntegration(6)">Incident Analytics</button>
          </div>
          <div id="med-integration-content" class="med-content">
            <!-- Details will appear here -->
          </div>
        </section>
        <!-- Emergency Communication Flow Section -->
        <section class="emergency-flow-section card">
          <h2>Emergency Communication Flow</h2>
          <div id="emergency-flow-steps" class="emergency-flow-steps"></div>
          <div class="emergency-flow-nav">
            <button onclick="prevFlowStep()">Previous</button>
            <button onclick="nextFlowStep()">Next</button>
            <button onclick="restartFlowStep()">Restart</button>
          </div>
        </section>
      </div>
    </div>
  </main>
  <footer>
    <p>Based on AFDRS and the <a href="https://www.australianwarningsystem.com.au/" target="_blank">Australian Warning System</a>. Not for operational use.</p>
  </footer>
  <style>
    .dashboard-flex {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: flex-start;
      justify-content: space-between;
    }
    .alerts-list-section {
      flex: 1 1 300px;
      min-width: 300px;
      max-width: 450px;
      margin-bottom: 2rem;
    }
    .map-medical-stack {
      display: flex;
      flex-direction: column;
      flex: 1 1 300px;
      min-width: 300px;
      max-width: 450px;
      gap: 1rem;
    }
    .map-section, .medical-emergency-section {
      margin-bottom: 0;
    }
    .card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      border: 1px solid #e0e0e0;
      padding: 1.5rem;
    }
    .medical-emergency-section h2 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #c0392b;
      letter-spacing: 0.5px;
    }
    .med-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .med-tabs button {
      background: #c0392b;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 0.5em 1em;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
    }
    .med-tabs button:hover, .med-tabs button.active {
      background: #e74c3c;
    }
    .med-content {
      border: 1px solid #e0e0e0;
      background: #f9f9f9;
      border-radius: 7px;
      padding: 1em;
      min-height: 120px;
      font-size: 1em;
      color: #333;
      box-shadow: 0 1px 4px rgba(0,0,0,0.03);
    }
    header, footer {
      padding: 1rem 2rem;
    }
    .logo-title {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    nav {
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    nav a {
      text-decoration: none;
      color: #333;
      padding: 0.5em 1em;
      border-radius: 5px;
      transition: background 0.2s;
    }
    nav a.active, nav a:hover {
      background: #c0392b;
      color: #fff;
    }
    /* Emergency Communication Flow styles */
    .emergency-flow-section {
      margin-top: 1rem;
    }
    .emergency-flow-steps {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: flex-end;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .emergency-step-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #f5f5f5;
      border-radius: 8px;
      padding: 1rem 0.7rem;
      min-width: 110px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      border: 2px solid transparent;
      transition: border 0.2s, background 0.2s;
      opacity: 0.6;
    }
    .emergency-step-card.active {
      border: 2px solid #c0392b;
      background: #fff3f0;
      opacity: 1;
    }
    .emergency-step-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .emergency-step-title {
      font-weight: bold;
      margin-bottom: 0.3rem;
      font-size: 1.05rem;
      text-align: center;
    }
    .emergency-step-desc {
      font-size: 0.95rem;
      text-align: center;
      color: #555;
    }
    .emergency-flow-nav {
      display: flex;
      gap: 0.7rem;
      justify-content: center;
      margin-top: 0.5rem;
    }
    .emergency-flow-nav button {
      background: #c0392b;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 0.4em 1em;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
    }
    .emergency-flow-nav button:hover {
      background: #e74c3c;
    }
    /* Responsive styles */
    @media (max-width: 900px) {
      .dashboard-flex {
        flex-direction: column;
        gap: 1.5rem;
      }
      .alerts-list-section,
      .map-medical-stack {
        max-width: 100%;
        min-width: 0;
      }
    }
    @media (max-width: 600px) {
      header, footer {
        padding: 1rem;
      }
      .logo-title h1 {
        font-size: 1.1rem;
      }
      .card {
        padding: 1rem;
      }
      .med-tabs button {
        font-size: 0.95em;
        padding: 0.4em 0.7em;
      }
      .med-content {
        font-size: 0.95em;
        padding: 0.7em;
      }
      nav {
        gap: 0.5rem;
      }
      .emergency-flow-steps {
        flex-direction: column;
        align-items: stretch;
      }
      .emergency-step-card {
        min-width: 0;
        width: 100%;
      }
    }
  </style>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="script.js"></script>
  <script>
    // Medical Integration Dashboard Interactivity
    const medIntegrationDetails = [
      `<strong>Real-Time Medical Dispatch Coordination:</strong><br>
      Integrate with ambulance dispatch systems for coordinated fire and medical response.<br>
      Enable dual-response alerts for incidents involving injury, smoke inhalation, or burns.`,
      `<strong>Health Risk Mapping:</strong><br>
      Overlay vulnerable population data (aged care, hospitals, disability services) on bushfire prediction maps.<br>
      Prioritize evacuation and medical support based on risk zones.`,
      `<strong>First Responder Medical Profiles:</strong><br>
      Include paramedic certifications and first aid skills in the roster system.<br>
      Auto-assign medically trained firefighters to incidents with injury potential.`,
      `<strong>Integration with Emergency Health Services:</strong><br>
      Connect with state health databases to access nearest trauma centers, air ambulance availability, and real-time hospital capacity.`,
      `<strong>Medical Equipment Tracking:</strong><br>
      Link inventory systems to track medical kits, oxygen tanks, and burn treatment supplies on each fire vehicle.<br>
      Alert roster managers when equipment is low or expired.`,
      `<strong>Predictive Health Alerts:</strong><br>
      Use bushfire simulation data to forecast smoke exposure zones.<br>
      Trigger alerts for respiratory risk and deploy medical teams proactively.`,
      `<strong>Incident Reporting and Analytics:</strong><br>
      Add modules for medical incident logging during bushfire events.<br>
      Analyze trends in injuries, response times, and treatment outcomes.`
    ];
    function showMedIntegration(idx) {
      document.getElementById('med-integration-content').innerHTML = medIntegrationDetails[idx];
      // Highlight active tab
      const btns = document.querySelectorAll('.med-tabs button');
      btns.forEach((btn, i) => btn.classList.toggle('active', i === idx));
    }
    // Show first tab by default
    showMedIntegration(0);

    // Emergency Communication Flow Interactivity
    const emergencyFlowSteps = [
      {
        icon: "ðŸ”¥",
        title: "Fire Detected",
        desc: "A bushfire is detected by sensors, public, or authorities."
      },
      {
        icon: "ðŸš’",
        title: "Fire Station Alerted",
        desc: "Local fire station receives the alert and prepares response."
      },
      {
        icon: "ðŸ“ž",
        title: "Call Emergency Number (000)",
        desc: "Emergency services are contacted via the national hotline."
      },
      {
        icon: "ðŸ•¹ï¸",
        title: "Dispatcher Contacts Medical Team",
        desc: "Dispatcher coordinates with medical teams for possible injuries."
      },
      {
        icon: "ðŸš‘",
        title: "Medical Team Dispatched",
        desc: "Medical team is sent to the scene for support and treatment."
      }
    ];
    let currentFlowStep = 0;
    function renderEmergencyFlow() {
      const container = document.getElementById('emergency-flow-steps');
      container.innerHTML = emergencyFlowSteps.map((step, idx) => `
        <div class="emergency-step-card${idx === currentFlowStep ? ' active' : ''}">
          <div class="emergency-step-icon">${step.icon}</div>
          <div class="emergency-step-title">${step.title}</div>
          <div class="emergency-step-desc">${idx === currentFlowStep ? step.desc : ''}</div>
        </div>
        ${idx < emergencyFlowSteps.length - 1 ? '<div style="font-size:2rem;align-self:center;">â†’</div>' : ''}
      `).join('');
    }
    function nextFlowStep() {
      if (currentFlowStep < emergencyFlowSteps.length - 1) currentFlowStep++;
      renderEmergencyFlow();
    }
    function prevFlowStep() {
      if (currentFlowStep > 0) currentFlowStep--;
      renderEmergencyFlow();
    }
    function restartFlowStep() {
      currentFlowStep = 0;
      renderEmergencyFlow();
    }
    document.addEventListener('DOMContentLoaded', renderEmergencyFlow);
  </script>
</body>
</html>
